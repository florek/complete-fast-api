# Klucz odpowiedzi – 11.02.2026

| Pytanie | Poprawna | Uzasadnienie |
|---------|----------|--------------|
| 1  | A | BaseModel w parametrze endpointu jest traktowany przez FastAPI jako Body; rozpoznawanie typu odbywa się na podstawie kontekstu (Path/Query/Body), nie kolejności. |
| 2  | B | orm_mode = True pozwala Pydantic na odczyt atrybutów z obiektów SQLAlchemy (konwersja ORM → Pydantic). |
| 3  | C | Zwrócenie None dałoby 200 OK z null; HTTPException z 404 daje klientowi czytelny błąd i poprawny status. |
| 4  | D | SQLite domyślnie blokuje użycie połączenia w wielu wątkach; check_same_thread=False jest potrzebne przy FastAPI/async. |
| 5  | A | response_model określa format odpowiedzi – FastAPI serializuje zwrócony obiekt według schematu (np. bez hasła). |
| 6  | B | ForeignKey tworzy klucz obcy w bazie i integralność referencyjną; relationship służy do dostępu w kodzie (np. article.user). |
| 7  | C | UserBase do requestu (z hasłem), UserDisplay do response (bez hasła) – separacja ze względów bezpieczeństwa. |
| 8  | D | yield w get_db tworzy generator; FastAPI po zakończeniu wywołuje kod po yield (finally: db.close()), gwarantując zamknięcie sesji. |
| 9  | A | Obiekty ORM SQLAlchemy nie mają metody update(); zmiany wprowadza się przez przypisanie atrybutów i db.commit(). |
| 10 | B | Path vs Query zależy od miejsca w URL; przy query byłoby /user?id=5. FastAPI rozpoznaje typ po kontekście. |
| 11 | C | FastAPI rozpoznaje źródło po typie: Path z URL, Query z query string, Body z body (model lub Body()). |
| 12 | D | Hash w projekcie służy do hashowania haseł (bcrypt) i weryfikacji przy logowaniu (passlib/CryptContext). |
| 13 | A | create_all(bind=engine) tworzy tabele z modeli, jeśli nie istnieją; nie aktualizuje istniejących tabel. |
| 14 | B | Dzięki orm_mode i relationship w SQLAlchemy Pydantic serializuje artykuł z zagnieżdżonym user do JSON. |
| 15 | B | Jeśli żądanie nie pasuje do żadnej ścieżki, endpoint nie jest wywołany – walidacja tego endpointu się nie wykonuje. |
| 16 | D | Tag w APIRouter grupuje endpointy w Swagger UI; na URL wpływa prefix, nie tag. |
| 17 | A | Przekazanie None do db.delete() powoduje UnmappedInstanceError; zawsze trzeba sprawdzić istnienie przed usunięciem. |
| 18 | B | back_populates łączy dwie strony relacji w ORM (user.items i article.user); nie tworzy kolumny w bazie. |
| 19 | C | Depends() wywołuje funkcję przed endpointem; wartość nie pochodzi z Path, Query ani Body. |
| 20 | D | response_model=List[UserDisplay] powoduje serializację wyników według UserDisplay (bez pola password). |

Walidacja rozkładu: A=5, B=5, C=5, D=5.
